% **************************************************************************** %
\chapter{\"Uberblick}
\label{chap:uberblick}
% **************************************************************************** %

Dieses Kapitel  beschreibt zuerst die grobe  Idee unsers L\"osungskonzepts. Es
wird  dargelegt, wie  unser System  in  eine Solaranlage  (bestehend oder  neu
aufgebaut) integriert wird, wie das System mit seiner Umgebung interagiert und
wie es zu bedienen ist.


% ---------------------------------------------------------------------------- %
\section{Aufbau einer Photovoltaikanlage}
\label{sec:solaranlage:aufbau}
% ---------------------------------------------------------------------------- %

\begin{wrapfigure}{r}{0.45\textwidth}
    \centering
    \includegraphics[width=0.4\textwidth]{images/solar-facility/cell--400px.png}
    \caption{Solarzelle, Frontalansicht \cite{ref:pvcell:wikipedia}}
    \label{fig:pvcell:front}
\end{wrapfigure}

Die   Grundbausteine    einer   Photovoltaikanlage   legen    die   PV-Zellen,
welche   aus   verschiedenen   Halbleitermaterialien   bestehen. Die   meisten
heutzutage  verwendeten  Zellen  werden aus  dem  Halbleitermaterial  Silizium
hergestellt. Siliziumzellen  sind in  verschiedenen Formfaktoren  verf\"ugbar;
g\"angige   Gr\"ossen    haben   ca.   zwischen    \SI{10}{\centi\meter}   und
\SI{15}{\centi\meter}  Kantenl\"ange.   Zum  mechanischen  Schutz  der  Zellen
sind  diese mit  einer durchsichtigen  Antireflexschicht \"uberzogen.   Die an
der  PV-Zelle  abgreifbare  Spannung betr\"agt  zwischen  \SI{0.5}{\volt}  und
\SI{0.8}{\volt} DC,  wobei die  Klemmenspannung einer  voll funktionsf\"ahigen
Zelle nur schwach von  der Lichteinstrahlung abh\"angig ist. Die Stromst\"arke
hingegen   ist  sehr   stark  von   der  Beleuchtungsst\"arke   abh\"angig. Je
nach    Sonneneinstrahlung   erreicht    eine   \SI{100}{\centi\meter\squared}
grosse   Siliziumzelle  eine   Stromst\"arke   von   bis  zu   \SI{2}{\ampere}
\cite{ref:pv:gesellschaftFuerSonnenenergie}. \fref{fig:pvcell:front} zeigt die
Frontansicht einer PV-Zelle.

\clearpage
\begin{wrapfigure}{l}{0.45\textwidth}
    \centering
    \includegraphics[width=0.4\textwidth]{images/solar-facility/pvmodule.jpeg}
    \caption{
        Solarmodul,  zusammengesetzt  aus  72 Solarzellen  gem\"ass  Abbildung
        \ref{fig:pvcell:front}%
    }
    \label{fig:pvmodule}
    \vspace*{-1em}
\end{wrapfigure}


Die  in der  Praxis  \"ubliche  Baugruppe ist  nicht  die Solarzelle,  sondern
das  Photovoltaikmodul.  Um  die Ausgangsspannung  und/oder den  Ausgangsstrom
zu  erh\"ohen  und um  diese  in  der  Praxis  besser einsetzen  zu  k\"onnen,
werden mehrere  Zellen in  verschiedenen Konfigurationen miteinander  zu einem
PV-Modul  verschaltet. Das Konzept  ist schematisch  dargestellt in  Abbildung
\ref{fig:pvmodule}, die Eckdaten einiger PV-Module  sind als Beispiele sind in
Anhang \ref{app:commercial:modules}  ab Seite \pageref{app:commercial:modules}
aufgef\"uhrt.

Zur  Erh\"ohung  des Ausgangsstroms  werden  Zellen  parallel geschaltet,  zur
Erh\"ohung  der  Ausgangsspannung werden  sie  in  Serie verbunden.   Je  nach
gew\"unschten Spezifikationen eines Moduls werden diese Ans\"atze einzeln oder
kombiniert angewandt.  In der Praxis \"ublich  sind Module mit 36, 72 oder 144
Zellen und  einer Ausgangsspannung  von \SI{12}{\volt}  bis \SI{60}{\volt}. In
Photovoltaikanlagen werden nur solche  ganzen Module eingesetzt; die einzelnen
Zellen  sind  f\"ur  Reparaturen  nicht  mehr  zug\"anglich. Die  elektrischen
Anschl\"usse befinden sich in kleinen  Kunststoffdosen auf der R\"uckseite der
Module (Beispiel in Abbildung \ref{fig:pvJunctionBox}) \cite{ref:pv:baunetz}.


Mehrere  identische  Module  werden  \"ublicherweise  mittels  Reihenschaltung
zu  einem  Modulstrang  verschaltet  (vereinfacht  dargestellt\hfill  in\hfill
Abbildung\hfill    \ref{fig:pvarray:gak:inverter}).    \hfill    Dadurch\hfill
wird\hfill eine\hfill h\"ohere\hfill Ausgangsspannung

\begin{wrapfigure}{r}{0.35\textwidth}
    \centering
    \includegraphics[width=0.3\textwidth]{images/solar-facility/pvJunctionBox.jpeg}
    \caption{
        Anschlussbox f\"ur Solarmodul, wird  normalerweise auf der R\"uckseite
        des Moduls montiert. \cite{ref:junctionBox}%
    }
    \label{fig:pvJunctionBox}
\end{wrapfigure}

\noindent erzeugt,  was die  Umwandlung des  Gleichstroms in  Wechselstrom und
dessen  Einspeisung  ins  Wechselstromnetz  erleichtert. Die  Ausgangsspannung
eines  Modulstrangs   darf  gem\"ass  Vorschrift  \SI{1000}{\volt}   DC  nicht
\"uberschreiten,  was die  Anzahl der  in einem  Strang in  Serie geschalteten
Module beschr\"ankt.  Module, die  an unterschiedlichen Dachneigungen montiert
sind  oder die  unterschiedliche  Ausrichtungen haben,  sollten  nie zu  einem
Modulstrang  zusammengeschaltet  werden,  da  sie  nicht  den  gleichen  Strom
produzieren  werden,  was  die  Effizienz  des  Strangs  stark  reduziert. Ein
einzelnes   beschattetes  oder   nicht   einwandfrei  funktionierendes   Modul
beeintr\"achtigt die vom gesamten Modulstrang abgegebene Leistung stark (siehe
auch n\"achster Abschnitt).

\todo{Freilaufdioden}

\begin{figure}[h!t]
    \centering
    \begin{tikzpicture}
        \begin{scope}[x={(0mm,\textwidth)},y={(0mm,-70mm)}]
            \node[inner sep=0pt,anchor=north west] at (0mm,0mm) {%
                \includegraphics[width=\textwidth]{images/solar-facility/pvarray.jpeg}%
            };
            \node at (132mm,-55mm) {\small{GAK}};
            \node at (120mm,0mm) {\small{Wechselrichter}};
            \node at (55mm,-5mm) {\small{Modulstrang}};
        \end{scope}
    \end{tikzpicture}
    \caption{%
        Modulstrang aus 16 Modulen  gem\"ass Abbildung \ref{fig:pvmodule}, GAK
        und Wechselrichter. Bild des GAK  von \cite{ref:gak:gantner}, Bild des
        Wechselrichters von \cite{ref:inverter:sunnyboy}.%
    }
    \label{fig:pvarray:gak:inverter}
\end{figure}

Die    Umwandlung    der    Gleichspannung    in    Wechselspannung    erfolgt
mittels    Wechselrichter   (dargestellt    auf   der    rechten   Seite    in
Abbildung    \ref{fig:pvarray:gak:inverter}). Je     nach    Anwendungsbereich
werden  unterschiedliche  Wechselrichter  eingesetzt:\todo{Anwendungsbereiche,
Vor-Nachteile spezifizieren}

\begin{symbols}
    \firmlist
    \item[\textbf{Modulwechselrichter}:]
        Ein  Wechselrichter,  welcher  den  Strom eines  einzelnen  Moduls  in
        Wechselstrom konvertiert.
    \item[\textbf{Strangwechselrichter}:]
        Konvertiert den Strom eines Modulstrangs zu Wechselstrom.
    \item[\textbf{Multistrangwechselrichter}:]
        Fasst   die   Gleichstr\"ome   mehrer  Modulstr\"ange   zusammen   und
        konvertiert diese zu Wechselstrom.
    \item[\textbf{Zentralwechselrichter}:]
        Ein  einzelner Wechselrichter,  welcher den  Gleichstrom einer  ganzen
        Photovoltaikanlage in Wechselstrom umwandelt. Kommt haupts\"achlich in
        Grossanlagen zum Einsatz, bei denen alle Str\"ange die gleiche Neigung
        aufweisen und gleich ausgerichtet sind \cite{ref:pv:ratgeber}.
\end{symbols}

Als Leitungsschutz gegen \"Uberstrom und Kurzschluss befindet sich unmittelbar
vor  dem   Wechselrichter  im  Gleichstromnetz   ein  Generatoranschlusskasten
(GAK). Dieser   dient   auch   zur    Trennung   der   gesamten   Anlage   vom
Netz. \"Ublicherweise  werden  GAK  und   Wechselrichter  am  selben  Standort
platziert.


% ---------------------------------------------------------------------------- %
\clearpage
\section{Leistungseinbr\"uche}
\label{sec:shadedCells}
% ---------------------------------------------------------------------------- %

\todo{Referenzen auf Simu-Circuits}

\begin{figure}[h!tb]
    \input{images/iv-curves/module-3d.tex}
    \input{images/iv-curves/module-2d.tex}
    \caption{
        Verhalten   eines    Moduls   bei    Reduktion   des    Stroms   einer
        einzelnen   Zelle.   Die   zuge\"orige  \code{LTspice}-Schaltung   ist
        in    Abbildung    \ref{fig:ltspice:iv:generic:module}    auf    Seite
        \pageref{fig:ltspice:iv:generic:module} zu finden.%
    }
    \label{fig:simu:iv-curves:module:generic}
\end{figure}

\begin{figure}[h!tb]
    %\input{images/iv-curves/array-3d.tex}
    \input{images/iv-curves/array-2d.tex}
    \caption{
        Verhalten       eines      Modulstrangs       ohne      Freilaufdioden
        bei     Reduktion     des     Stroms    einer     einzelnen     Zelle.
        Die      zugeh\"origen     \code{LTspice}-Schaltungen      sind     im
        Anhang       in       Abbildung       \ref{fig:ltspice:string:ivCurve}
        auf     Seite      \pageref{fig:ltspice:string:ivCurve}     und     in
        Abbildung      \ref{fig:ltspice:jacModule:NoDiode}      auf      Seite
        \pageref{fig:ltspice:jacModule:NoDiode} dokumentiert.%
    }
    \label{fig:simu:iv-curves:array:generic}
\end{figure}

\begin{figure}[h!tb]
    %\input{images/iv-curves/array-bypass-3d.tex}
    \input{images/iv-curves/array-bypass-2d.tex}
    \caption{
        Verhalten   eines    Modulstrangs   bei   einer    Freilaufdiode   pro
        Modul. Es    werden     zwei    Zellen    in     zwei    verschiedenen
        Modulen   im   gesamten   Modulstrang   auf   reduzierte   Kapazit\"at
        gesetzt,   Die   Prozentangaben   in   der   Legende   beziehen   sich
        auf   die    Stromabgabe   der   zwei   Zellen    bezogen   auf   ihre
        maximale  Kapazit\"at. Die   zugeh\"origen  \code{LTspice}-Schaltungen
        sind   im   Anhang   in   Abbildung   \ref{fig:ltspice:string:ivCurve}
        auf     Seite      \pageref{fig:ltspice:string:ivCurve}     und     in
        Abbildung       \ref{fig:ltspice:jacModule:Diode}      auf       Seite
        \pageref{fig:ltspice:jacModule:Diode} dokumentiert.%
    }
    \label{fig:simu:iv-curves:array:generic:bypass}
\end{figure}


% ---------------------------------------------------------------------------- %
\clearpage
\section{Unser System}
\label{sec:ourSystem}
% ---------------------------------------------------------------------------- %

Unser   System  bietet   neben   einer   benutzerfreundlichen  Bedienung   und
Inbetriebnahme,  so wie  einer  einfachen Integration  in bestehende  Anlagen,
ebenfalls  eine  kosteng\"unstige  und energieeffiziente  L\"osung  f\"ur  die
\"Uberwachung von Photovoltaikanlagen. Das System setzt sich zusammen aus zwei
Hauptkomponenten, dem Master-Ger\"at und den jeweiligen Sensoren.

Die Installation  des Master-Ger\"ates erfolgt im  zugeh\"origen Schaltschrank
des  Wechselrichters. Das  schlichte  Hutschienengeh\"ause  erm\"oglicht  eine
einfache   Installation   in   bestehende  oder   neue   Schaltschr\"anke. Die
Energieversorgung,  wie  auch  die  Ankopplung  an  die  DC-Leitungen  erfolgt
intern   des   Schaltschrankes   und  wird   von   einem   Elektroinstallateur
ausgef\"uhrt. Neben dem  Klemmenanschluss f\"ur die Energieversorgung  und den
zwei Relaisausg\"angen  f\"ur externe Alarmger\"ate, sieht  das Master-Ger\"at
die  Ankopplung  der  DC-Leitungen  von  bis  zu  drei  Modulstrangs  vor. Ein
internes 3.5“ Touch-Display erm\"oglicht eine einfache Inbetriebnahme und eine
benutzerfreundliche  Bedienung des  Systems. Alle  Messresultate der  Sensoren
werden  vom Master-Ger\"at  ausgewertet  und dem  Kunden  in einer  grafischen
Benutzeroberfl\"ache  dargestellt. Tritt ein  Fehler an  der Anlage  auf, wird
eine entsprechende Meldung auf dem Display angezeigt, die beiden Relais werden
bet\"atigt  und  eine  Nachricht  mittels  SMS  wird  versendet. Dadurch  wird
sichergestellt, dass der Kunde m\"oglichst schnell \"uber defekte PV-Module in
Kenntnis gesetzt wird.

Als Fehler werden folgende Ereignisse definiert:
\begin{itemize}
    \firmlist
    \item
        Eine defekte Zelle
    \item
        Eine dauerhaft verschmutzte Zelle
    \item
        Eine defekte Leitung
\end{itemize}

Kein Fehler soll in folgenden Situationen ausgel\"ost werden.
\begin{itemize}
    \firmlist
    \item
        Kurzzeitige Abschattungen (z.B. Vogel auf Zelle)
    \item
        Regelm\"assige Abschattungen,  die zu den  Umweltbedingungen geh\"oren
        (z.B. Baum, der t\"aglich abschattet)
    \item
        Nacht-/Schlechtwetter
    \item
        Anlage absichtlich ausser Betrieb genommen (z.B. Unterhaltsarbeiten)
\end{itemize}

F\"ur  die  Spannungsmessung  und  die \"Ubertragung  der  Messresultate  sind
die  Sensoren  zust\"andig. Die  Installation  der  Sensoren  erfolgt  in  den
Anschlussdosen  auf der  R\"uckseite der  PV-Module. F\"ur jedes  PV-Modul ist
jeweils  ein  Sensor  zu  installieren. Eine  zweiadrige  Verbindung  von  der
Sensorplatine  zu den  Klemmen  der Anschlussdose  ist  zust\"andig f\"ur  die
Energieversorgung des Sensors und die  Ankopplung an die DC-Leitung, f\"ur die
\"Ubertragung der Messresultate an das Master-Ger\"at.

% ---------------------------------------------------------------------------- %
\clearpage
\section{Kommunikation \"uber DC-Leitung}
\label{sec:commDCLine}
% ---------------------------------------------------------------------------- %

Die Kommunikation zwischen  \Sensor und \Master \"uber die  DC-Leitung ist das
Herzst\"uck des Systems und das zu l\"osende Kernproblem des Projekts. Es sind
im Rahmen  des Projekts  zwei grunds\"atzliche  Ans\"atze verfolgt  worden, um
Daten  zwischen  \Sensor und  \Master  \"uber  die  DC-Leitung zu  senden  und
empfangen.

\textbf{Frequency-shift keying}: Bei  der FSK (Frequenzumtastung  auf Deutsch)
wird  dem in  der Leitung  fliessenden Gleichstrom  ein (verh\"altnism\"assig)
kleines  Signal aufmoduliert,  welches  die  zu \"ubertragenden  Informationen
enth\"alt. Die  Frequenz   des  aufmodulierten   Anteils  wird   in  diskreten
Schritten variiert  und jeweils  einem Symbol zugeordnet. Bei  einer bin\"aren
Umsetzung  werden  zwei  Frequenzen  benutzt; eine  f\"ur  \code{0}  und  eine
f\"ur  \code{1}.   Das  Verfahren ist  schematisch  in  \fref{fig:fsk:concept}
dargestellt.

\begin{figure}[h!tb]
    \centering
    \input{images/python/fsk.pgf}
    \caption{%
        \emph{Frequency-shift  keying}: Oben   sind  die   zu  \"ubertragenden
        digitalen  Daten  als  \code{1}  und \code{0}  abgebildet,  unten  das
        zugeh\"orige Verhalten des  modulierten Signals.%
    }
    \label{fig:fsk:concept}
\end{figure}


\textbf{Amplitude-shift  keying}: Die  ASK (Amplitudenumtastung  auf  Deutsch)
benutzt statt verschiedenen Frequenzen unterschiedliche Amplituden, um Symbole
zu  codieren.  \fref{fig:ask:concept}  stellt  das  grundlegende  Konzept  des
Verfahrens schematisch dar.

Unsere  Umsetzung unterscheidet  sich  von  einer <<normalen>> \todo{<<text>> oder ``text'' ?}  Implementation
(mittlere   Graphik  in   \fref{fig:ask:concept})  dadurch,   dass  nicht   im
eigentlichen Sinne  ein zus\"atzliches  Signal auf den  DC-Anteil aufmoduliert
wird. Stattdessen   wird  ein   Solarmodul  mit   einer  bestimmten   Frequenz
kurzgeschlossen,  was die  Spannung auf  einem Strang  von Modulen  kurzzeitig
in  Intervallen  einbrechen  l\"asst. Diese  Spannungseinbr\"uche  werden  zur
Datencodierung  benutzt   (unterster  Plot   in  \fref{fig:ask:concept}). Dies
entspricht  im  Prinzip  einer  ASK  mit Amplituden  null  und  dem  Wert  des
Spannungseinbruchs mit einem Offset des halben Spannungseinbruchs.

\todo{Zahlen in Ticks auf Achsen weglassen?}

\begin{figure}[h!tb]
    \centering
    \input{images/python/ask.pgf}
    \caption{%
        \emph{Amplitude-shift  keying}: Oben   sind  die   zu  \"ubertragenden
        digitalen  Daten als  \code{1} und  \code{0} abgebildet. Die  mittlere
        Abbildung stellt eine typische Umsetzung des Konzepts mit harmonischer
        Tr\"agerschwingung und zwei verschiedenen Amplituden dar.\protect\\
        Das  unterste   Signal  ist  eine  vereinfachte   Darstellung  unserer
        Variante.  Die  Gleichspannung an  der Leitung  ist etwas  weniger als
        \SI{1}{\kilo\volt}; beim Kurzschluss eines Moduls erfolgt eine Abfolge
        von Spannungseinbr\"uchen auf der Leitung, welche die Daten kodiert.%
    }
    \label{fig:ask:concept}
\end{figure}


Sowohl  FSK wie  auch  unsere  Variante der  ASK  haben  ihre jeweiligen  Vor-
und  Nachteile,  auf  welche im  Kapitel  \emph{\titleref{chap:simu}}  genauer
eingegangen wird.
